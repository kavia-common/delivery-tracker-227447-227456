{"is_source_file": true, "format": "JavaScript", "description": "This file 'deliveryService.js' provides functions for fetching, normalizing, and filtering delivery data, including mock data fallback, based on external configuration. It exports functions to list deliveries, get a delivery by ID, and merge delivery updates, serving as a service layer for delivery-related operations in a front-end project.", "external_files": ["./config", "../mock/mockDeliveries"], "external_methods": ["getApiBaseUrl", "shouldUseMocks"], "published": ["listDeliveries", "getDeliveryById", "mergeDeliveryUpdate"], "classes": [], "methods": [{"name": "normalizeStatus(status)", "description": "Converts various status strings into a normalized set of status labels such as 'in-transit', 'delivered', or 'delayed'.", "scope": "", "scopeKind": ""}, {"name": "normalizeDelivery(raw)", "description": "Transforms raw delivery data into a standardized format suitable for application use, including processing timelines and status normalization.", "scope": "", "scopeKind": ""}, {"name": "applyLocalFilters(deliveries, filters)", "description": "Filters a list of deliveries based on search query, statuses, courier, date range, and ownership.", "scope": "", "scopeKind": ""}, {"name": "getDeliveryById(id)", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "listDeliveries(filters = {})", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "mergeDeliveryUpdate(existing, update)", "scope": "", "scopeKind": "", "description": "unavailable"}], "calls": ["shouldUseMocks()", "getApiBaseUrl()", "fetch", "normalizeDelivery", "applyLocalFilters", "sleep"], "search-terms": ["deliveryService", "normalizeStatus", "listDeliveries", "getDeliveryById", "mergeDeliveryUpdate", "fallback", "mockDeliveries", "API_BASE", "delivery data"], "state": 2, "file_id": 16, "knowledge_revision": 51, "git_revision": "fc2d9b0feb62cdc353dd7edcb1abe7ad44f91abf", "ctags": [{"_type": "tag", "name": "applyLocalFilters", "path": "/home/kavia/workspace/code-generation/delivery-tracker-227447-227456/delivery_tracking_frontend/src/services/deliveryService.js", "pattern": "/^function applyLocalFilters(deliveries, filters) {$/", "language": "JavaScript", "kind": "function", "signature": "(deliveries, filters)"}, {"_type": "tag", "name": "getDeliveryById", "path": "/home/kavia/workspace/code-generation/delivery-tracker-227447-227456/delivery_tracking_frontend/src/services/deliveryService.js", "pattern": "/^export async function getDeliveryById(id) {$/", "language": "JavaScript", "kind": "function", "signature": "(id)"}, {"_type": "tag", "name": "id", "path": "/home/kavia/workspace/code-generation/delivery-tracker-227447-227456/delivery_tracking_frontend/src/services/deliveryService.js", "pattern": "/^        id: e.id || `${merged.id}-${Math.random().toString(16).slice(2)}`,$/", "language": "JavaScript", "kind": "property", "scope": "mergeDeliveryUpdate.normalized", "scopeKind": "class"}, {"_type": "tag", "name": "listDeliveries", "path": "/home/kavia/workspace/code-generation/delivery-tracker-227447-227456/delivery_tracking_frontend/src/services/deliveryService.js", "pattern": "/^export async function listDeliveries(filters = {}) {$/", "language": "JavaScript", "kind": "function", "signature": "(filters = {})"}, {"_type": "tag", "name": "location", "path": "/home/kavia/workspace/code-generation/delivery-tracker-227447-227456/delivery_tracking_frontend/src/services/deliveryService.js", "pattern": "/^        location: e.location,$/", "language": "JavaScript", "kind": "property", "scope": "mergeDeliveryUpdate.normalized", "scopeKind": "class"}, {"_type": "tag", "name": "mergeDeliveryUpdate", "path": "/home/kavia/workspace/code-generation/delivery-tracker-227447-227456/delivery_tracking_frontend/src/services/deliveryService.js", "pattern": "/^export function mergeDeliveryUpdate(existing, update) {$/", "language": "JavaScript", "kind": "function", "signature": "(existing, update)"}, {"_type": "tag", "name": "message", "path": "/home/kavia/workspace/code-generation/delivery-tracker-227447-227456/delivery_tracking_frontend/src/services/deliveryService.js", "pattern": "/^        message: e.message || \"Status update\",$/", "language": "JavaScript", "kind": "property", "scope": "mergeDeliveryUpdate.normalized", "scopeKind": "class"}, {"_type": "tag", "name": "normalizeDelivery", "path": "/home/kavia/workspace/code-generation/delivery-tracker-227447-227456/delivery_tracking_frontend/src/services/deliveryService.js", "pattern": "/^function normalizeDelivery(raw) {$/", "language": "JavaScript", "kind": "function", "signature": "(raw)"}, {"_type": "tag", "name": "normalizeStatus", "path": "/home/kavia/workspace/code-generation/delivery-tracker-227447-227456/delivery_tracking_frontend/src/services/deliveryService.js", "pattern": "/^function normalizeStatus(status) {$/", "language": "JavaScript", "kind": "function", "signature": "(status)"}, {"_type": "tag", "name": "normalized", "path": "/home/kavia/workspace/code-generation/delivery-tracker-227447-227456/delivery_tracking_frontend/src/services/deliveryService.js", "pattern": "/^      const normalized = {$/", "language": "JavaScript", "kind": "class", "scope": "mergeDeliveryUpdate", "scopeKind": "class"}, {"_type": "tag", "name": "sleep", "path": "/home/kavia/workspace/code-generation/delivery-tracker-227447-227456/delivery_tracking_frontend/src/services/deliveryService.js", "pattern": "/^const sleep = (ms) => new Promise((r) => setTimeout(r, ms));$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "status", "path": "/home/kavia/workspace/code-generation/delivery-tracker-227447-227456/delivery_tracking_frontend/src/services/deliveryService.js", "pattern": "/^        status: normalizeStatus(e.status),$/", "language": "JavaScript", "kind": "property", "scope": "mergeDeliveryUpdate.normalized", "scopeKind": "class"}, {"_type": "tag", "name": "timestamp", "path": "/home/kavia/workspace/code-generation/delivery-tracker-227447-227456/delivery_tracking_frontend/src/services/deliveryService.js", "pattern": "/^        timestamp: e.timestamp || new Date().toISOString(),$/", "language": "JavaScript", "kind": "property", "scope": "mergeDeliveryUpdate.normalized", "scopeKind": "class"}], "hash": "aa8d24c494ae4de01229ed991834a9de", "format-version": 4, "code-base-name": "delivery_tracking_frontend", "filename": "delivery_tracking_frontend/src/services/deliveryService.js", "fields": [{"name": "id: e.id || `${merged.id}-${Math.random().toString(16).slice(2)}`,", "scope": "mergeDeliveryUpdate.normalized", "scopeKind": "class", "description": "unavailable"}, {"name": "location: e.location,", "scope": "mergeDeliveryUpdate.normalized", "scopeKind": "class", "description": "unavailable"}, {"name": "message: e.message || \"Status update\",", "scope": "mergeDeliveryUpdate.normalized", "scopeKind": "class", "description": "unavailable"}, {"name": "status: normalizeStatus(e.status),", "scope": "mergeDeliveryUpdate.normalized", "scopeKind": "class", "description": "unavailable"}, {"name": "timestamp: e.timestamp || new Date().toISOString(),", "scope": "mergeDeliveryUpdate.normalized", "scopeKind": "class", "description": "unavailable"}], "revision_history": [{"51": "fc2d9b0feb62cdc353dd7edcb1abe7ad44f91abf"}]}